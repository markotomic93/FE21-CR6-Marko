<!-- Table for displaying Items -->

<div class="container">
<div class="d-flex justify-content-between mt-5 mb-3">
  <button class="btn btn-success " routerLink="/travel"><i class="fas fa-angle-left" > </i>  Back to Destinations  </button>
  <button class="btn btn-danger " (click)="clearCart()">Empty your Cart</button>
  </div>
    <table class="table table-dark">
      <thead>
        <tr>
          <th>Destination</th>
          <th>Quantity</th>
          <th>Price</th>
          <th></th>
          <th></th>
          <th></th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let val of cartService.items; index as i">
          <td>{{ val.destination }}</td>
          <td>{{ val.quantity }}</td>
          <td>{{ val.price }} â‚¬</td>
          <td><button class="btn btn-danger" (click)="remove(val,i)"  >Remove</button></td>
          <td><button class="btn btn-success" (click)="cartService.addToCart(val)" > + </button></td>
          <td><button class="btn btn-danger" (click)="lessInCard(val,i)" > - </button></td>
          <td>{{(val.quantity * val.price )| currency }} </td>
        </tr>
      </tbody>

      <!-- Table Footer for displaying end Total and Discount -->

      <tfoot class="text-center" >
      <tr *ngIf = "TotalSum()>200">
        <td colspan="7">Subtotal: {{ TotalSum() | currency }} </td>
      </tr>
      <tr *ngIf = "TotalSum()>200">
        <td colspan="7">Discount: {{TotalSum() < 500 ? '10' : '20'}}%: - {{calcDiscount() | currency}}</td>
      </tr>
      <tr >
        <td colspan="7" >Total: {{(TotalSum() - calcDiscount()| currency)}} </td>
      </tr>
      </tfoot>
    </table>
  </div>
  
  <form class="container mt-5" [formGroup]="checkoutForm" (ngSubmit)="onSubmit(checkoutForm.value)" >
    <div class="form-group">
      <label for="name">Name and Lastname </label>
      <input  type="text" class="form-control" formControlName="name" >
    </div>
    <div class="form-group">
      <label for="address">Address</label>
      <input  type="text" class="form-control" formControlName="address" >
    </div>
    <div class="form-group">
      <label for="phone">Phone Number</label>
      <input  type="tel" class="form-control" formControlName="phone" >
    </div>
    <div class="form-group">
      <label for="email">E-Mail</label>
      <input  type="email" class="form-control" formControlName="email" >
    </div>
    <button type="submit" class="btn btn-success mt-3" >Purchase</button>
   </form>
  
  